<?xml version="1.0" encoding="UTF-8"?>
<con:loadui-project label="Sample Project 2" id="fca3a619-9128-4ff1-9f2d-bc535fd79d39" xmlns:con="http://eviware.com/loadui/config"><con:properties><con:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con:property propagates="true" key="CanvasItem.abortOnFinish" type="java.lang.Boolean">false</con:property><con:property propagates="true" key="ModelItem.saveReport" type="java.lang.Boolean">false</con:property><con:property propagates="true" key="ModelItem.reportFolder" type="java.lang.String"/><con:property propagates="true" key="ModelItem.reportFormat" type="java.lang.String"/><con:property propagates="true" key="ProjectItem.statisticNumberOfAutosaves" type="java.lang.Long">5</con:property></con:properties><con:attributes><con:property key="miniature">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
</con:property><con:property key="limits">Time=55;</con:property><con:property key="gui.note.0">372;204;419;43;This sample project shows more advanced Generator and Runner components.</con:property><con:property key="gui.note.1">630;344;212;117;1. The Ramp Sequence Generator will ramp up (and then down) the number of Virtual Users automatically.

Hover the mouse cursor over the knobs to see their values.</con:property><con:property key="gui.note.2">754;559;195;83;2. The soapUI Runner is all the power of soapUI in a loadUI component. It can run any soapUI TestCase.</con:property><con:property key="gui.note.3">1334;535;135;118;This component simulates a real server. In a real load test, you would of course not need this.</con:property><con:property key="gui.statistics.view">statistics.view</con:property><con:property key="gui.note.4">222;908;507;103;3. This project has an assertion configured (see the Assertion panel at the bottom of the loadUI window). It will trigger a failure if the soapUI TestCase takes more than 95 milliseconds to complete. These failures, as well as some statistics, are visualized in the Statistics Workbench.

Let's start the project and see what happens!</con:property></con:attributes><con:addons><con:addon type="com.eviware.loadui.api.assertion.AssertionAddon" id="49fb29c8-8a7d-4717-9436-70b592eada4c"><con:attributes><con:property key="parentId">95145def-254b-49cf-93c8-8b64faddea23</con:property><con:property key="valueReference">rO0ABXNyADdjb20uZXZpd2FyZS5sb2FkdWkudXRpbC5zZXJpYWxpemF0aW9uLlN0YXRpc3RpY1Jl
c29sdmVyJwTr+w+xV3ECAARMAA1ob2xkZXJBZGRyZXNzdAASTGphdmEvbGFuZy9TdHJpbmc7TAAG
c291cmNlcQB+AAFMAA1zdGF0aXN0aWNOYW1lcQB+AAFMAAx2YXJpYWJsZU5hbWVxAH4AAXhwdAAk
OTUxNDVkZWYtMjU0Yi00OWNmLTkzYzgtOGI2NGZhZGRlYTIzdAAEbWFpbnQAB0FWRVJBR0V0AApU
aW1lIFRha2Vu
</con:property><con:property key="constraint">rO0ABXNyADFjb20uZXZpd2FyZS5sb2FkdWkudXRpbC5hc3NlcnRpb24uUmFuZ2VDb25zdHJhaW50
Y94NW62dOawCAAJEAANtYXhEAANtaW54cEBXwAAAAAAAAAAAAAAAAAA=
</con:property><con:property key="tolerancePeriod">1000</con:property><con:property key="toleranceAllowedOccurrences">0</con:property><con:property key="Labeled@label">Max 95ms</con:property></con:attributes><con:addons/></con:addon></con:addons><con:component type="com.eviware.loadui.components.soapui.SoapUISamplerComponent" label="soapUI Runner" id="95145def-254b-49cf-93c8-8b64faddea23"><con:properties><con:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con:property propagates="true" key="concurrentSamples" type="java.lang.Long">100</con:property><con:property propagates="true" key="maxQueueSize" type="java.lang.Long">1000</con:property><con:property propagates="true" key="countDiscarded" type="java.lang.Boolean">false</con:property><con:property propagates="false" key="projectFile" type="java.io.File">D:\workspace\loadui-installers\loadui-controller-installer\src\main\resources\samples\soapUIsample.xml</con:property><con:property propagates="true" key="_projectFileworkingCopy" type="java.io.File">D:\workspace\loadui-installers\loadui-controller-installer\src\main\resources\samples\soapUIsample.xml</con:property><con:property propagates="true" key="_projectPassword" xsi:nil="true" type="java.lang.String" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con:property propagates="true" key="settingsFile" type="java.io.File">C:\Users\Henrik\soapui-settings.xml</con:property><con:property propagates="false" key="projectRelativePath" type="java.lang.String">soapUIsample.xml</con:property><con:property propagates="true" key="useProjectRelativePath" type="java.lang.Boolean">true</con:property><con:property propagates="true" key="testSuite" type="java.lang.String">Simple Sample</con:property><con:property propagates="true" key="testCase" type="java.lang.String">Simple Request</con:property><con:property propagates="true" key="raiseError" type="java.lang.Boolean">true</con:property><con:property propagates="true" key="outputTestCaseProperties" type="java.lang.Boolean">true</con:property><con:property propagates="true" key="OutputLevel" type="java.lang.String">TestCase only</con:property><con:property propagates="true" key="_testCasePropertiesTableModel" type="java.lang.String"/><con:property propagates="true" key="closeConnectionsAfterRequest" type="java.lang.Boolean">false</con:property><con:property propagates="true" key="disabledTestSteps" type="java.lang.String"/><con:property propagates="true" key="disableSoapuiAssertions" type="java.lang.Boolean">false</con:property><con:property propagates="true" key="_valueToOverride_sessionId" type="java.lang.String">6960235571185172</con:property><con:property propagates="true" key="_valueToOverride_foo" type="java.lang.String">bar</con:property></con:properties><con:attributes><con:property key="com.eviware.loadui.api.model.ComponentItem@type">soapUI Runner</con:property><con:property key="gui.layoutX">218</con:property><con:property key="gui.layoutY">558</con:property></con:attributes><con:addons/></con:component><con:component type="com.eviware.loadui.components.soapui.MockServiceComponent" label="Mock Server" id="509367f2-a46f-43a1-a119-f53c89facdd5"><con:properties><con:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con:property propagates="true" key="stateProperty" type="java.lang.Boolean">true</con:property><con:property propagates="true" key="projectFile" type="java.io.File">D:\workspace\loadui-installers\loadui-controller-installer\src\main\resources\samples\soapUIsample.xml</con:property><con:property propagates="true" key="_projectPassword" xsi:nil="true" type="java.lang.String" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/><con:property propagates="true" key="settingsFile" type="java.io.File">C:\Users\Henrik\soapui-settings.xml</con:property><con:property propagates="true" key="projectRelativePath" type="java.lang.String">soapUIsample.xml</con:property><con:property propagates="true" key="useProjectRelativePath" type="java.lang.Boolean">true</con:property><con:property propagates="true" key="mockService" type="java.lang.String">MockService</con:property><con:property propagates="true" key="path" type="java.lang.String">/mockServer</con:property><con:property propagates="true" key="port" type="java.lang.String">19397</con:property><con:property propagates="true" key="addRequest" type="java.lang.Boolean">false</con:property><con:property propagates="true" key="addResponse" type="java.lang.Boolean">false</con:property></con:properties><con:attributes><con:property key="com.eviware.loadui.api.model.ComponentItem@type">soapUI MockService</con:property><con:property key="gui.layoutX">1186</con:property><con:property key="gui.layoutY">547</con:property><con:property key="gui.compact">true</con:property></con:attributes><con:addons/></con:component><con:component type="com.eviware.loadui.groovy.GroovyComponent" label="Ramp Sequence" id="4c574e08-9ed2-4807-9f42-4d2078257a3f" category="generators"><con:properties><con:property propagates="true" key="ModelItem.description" type="java.lang.String"/><con:property propagates="true" key="_script" type="java.lang.String">/**
 * Ramps up, holds steady and then ramps down.
 *
 * @id com.eviware.MultiRamp
 * @name Ramp Sequence
 * @category generators
 * @help http://loadui.org/Generators/ramp-sequence.html
 * @nonBlocking true
 */

import java.util.concurrent.TimeUnit

createProperty( 'rampLength', Long, 10 ) { calculateAcceleration() }
createProperty( 'peakRate', Long, 10 ) { calculateAcceleration() }
createProperty( 'peakLength', Long, 10 )
createProperty( 'peakRateUnit', String, 'sec' ) { calculateAcceleration(); redraw() }

future = null
cancellingFuture = null
startTime = 0
calculateAcceleration()

onAction( 'START' ) {
	calculateAcceleration()
	startTime = currentTime()
	hasPeaked = false
	scheduleNext()
}

onAction( 'STOP' ) {
	future?.cancel( true )
	cancellingFuture?.cancel( true )
	startTime = null
}

scheduleNext = {
	def t0 = getT0()
	
	if( t0 >= rampLength.value &amp;&amp; !hasPeaked ) {
		hasPeaked = true
		def delay = 1000000/peakRate.value
		if( peakRateUnit.value == 'min' )
			delay = 1000000/(peakRate.value/60)
		future = scheduleAtFixedRate( { trigger() }, delay, delay, TimeUnit.MICROSECONDS )
		cancellingFuture = schedule( {
			future?.cancel( true )
			a = a*-1
			scheduleNext( rampLength.value )
		}, peakLength.value, TimeUnit.SECONDS )
	} else if( t0 >= 0 ) {
		t1 = Math.sqrt( 2/a + t0**2 )
		
		future?.cancel( true )
		def diff = Math.abs( t1 - getT0() )
		if( !Double.isNaN( diff ) ) {
			future = schedule( {
					trigger()
					scheduleNext( t1 )
				}, ( diff*1000000) as long, TimeUnit.MICROSECONDS )
		}
	}
}

def getT0() {
	if( !startTime ) return 0
	relativeTime = currentTime() - startTime
	if( relativeTime >= rampLength.value + peakLength.value )
		return startTime + rampLength.value*2 + peakLength.value - currentTime()
	if( relativeTime >= rampLength.value )
		return rampLength.value
	return relativeTime
}

def redraw() {
	layout {
		property( property:rampLength, label:'Ramp Duration\n(sec)', min:1 )
		property( property:peakLength, label:'Peak Duration\n(sec)', min:0 )
		separator( vertical:true )
		property( property:peakRate, label:'Peak Rate\n(VU/' + peakRateUnit.value + ')', min:1 )
		property( property:peakRateUnit, label:'Unit', options:['sec','min'] )
		separator( vertical:true )
		box( widget:'display' ) {
			node( label:'Rate', content: { if( getT0() > 0 ) String.format( '%7.1f', peakRateUnit.value == 'sec' ? a*getT0() : a*getT0()*60 ) else 0 }, constraints:'w 45!' )
		}
	}
}
redraw()

compactLayout {
	box( widget:'display' ) {
		node( label:'Rate', content: { if( getT0() > 0 ) String.format( '%7.1f', peakRateUnit.value == 'sec' ? a*getT0() : a*getT0()*60 ) else 0 }, constraints:'w 45!' )
	}
}

def currentTime() {
	System.currentTimeMillis() / 1000
}

def calculateAcceleration() {
	if( peakRateUnit.value == 'sec' )
		a = peakRate.value / rampLength.value
	else
		a = (peakRate.value/60) / rampLength.value
}
</con:property><con:property propagates="true" key="stateProperty" type="java.lang.Boolean">true</con:property><con:property propagates="true" key="rampLength" type="java.lang.Long">15</con:property><con:property propagates="true" key="peakRate" type="java.lang.Long">10</con:property><con:property propagates="true" key="peakLength" type="java.lang.Long">20</con:property><con:property propagates="true" key="peakRateUnit" type="java.lang.String">sec</con:property></con:properties><con:attributes><con:property key="com.eviware.loadui.api.model.ComponentItem@type">Ramp Sequence</con:property><con:property key="_digest">075993c57e77051ef17b88cc13003df9</con:property><con:property key="_id">com.eviware.MultiRamp</con:property><con:property key="_classLoader">com.eviware.MultiRamp</con:property><con:property key="gui.layoutX">219</con:property><con:property key="gui.layoutY">341</con:property><con:property key="gui.compact">false</con:property></con:attributes><con:addons/></con:component><con:connection outputTerminalId="4c574e08-9ed2-4807-9f42-4d2078257a3f/triggerTerminal" inputTerminalId="95145def-254b-49cf-93c8-8b64faddea23/triggerTerminal"/><con:statistics><con:page title="General"><con:chartGroup type="com.eviware.loadui.api.statistics.model.chart.line.LineChartView" title="Transactions Per Second"><con:chart statisticHolder="95145def-254b-49cf-93c8-8b64faddea23"><con:attributes><con:property key="_CHART_segments">63:36:95145def-254b-49cf-93c8-8b64faddea2310:Throughput3:TPS4:main</con:property><con:property key="_CHART__SEGMENT_36:95145def-254b-49cf-93c8-8b64faddea2310:Throughput3:TPS4:main_color">#00B2D2</con:property><con:property key="_CHART_saved">true</con:property><con:property key="_CHART_zoomLevel">SECONDS</con:property><con:property key="_CHART_timeSpan">66916</con:property><con:property key="_CHART_height">169.0</con:property><con:property key="_CHART__SEGMENT_36:95145def-254b-49cf-93c8-8b64faddea2310:Throughput3:TPS4:main_width">1</con:property><con:property key="_CHART_position">0</con:property></con:attributes></con:chart><con:attributes><con:property key="_CHARTGROUP_zoomLevel">SECONDS</con:property><con:property key="_CHARTGROUP_timeSpan">68250</con:property><con:property key="_CHARTGROUP_height">163.0</con:property><con:property key="expand">none</con:property><con:property key="_CHARTGROUP_position">31879</con:property></con:attributes></con:chartGroup><con:chartGroup type="com.eviware.loadui.api.statistics.model.chart.line.LineChartView" title="Time Taken"><con:chart statisticHolder="95145def-254b-49cf-93c8-8b64faddea23"><con:attributes><con:property key="_CHART_segments">67:36:95145def-254b-49cf-93c8-8b64faddea2310:Time Taken7:AVERAGE4:main</con:property><con:property key="_CHART__SEGMENT_36:95145def-254b-49cf-93c8-8b64faddea2310:Time Taken7:AVERAGE4:main_color">#9BCD00</con:property><con:property key="_CHART_saved">true</con:property><con:property key="_CHART_zoomLevel">SECONDS</con:property><con:property key="_CHART_timeSpan">6666</con:property><con:property key="_CHART_position">48334</con:property><con:property key="_CHART_height">163.0</con:property></con:attributes></con:chart><con:chart statisticHolder="49fb29c8-8a7d-4717-9436-70b592eada4c"><con:attributes><con:property key="_CHART_segments">42:10:TEST_EVENT16:AssertionFailure8:Max 95ms</con:property><con:property key="_CHART__SEGMENT_10:TEST_EVENT16:AssertionFailure8:Max 95ms_color">#FF2100</con:property></con:attributes></con:chart><con:attributes><con:property key="_CHARTGROUP_zoomLevel">SECONDS</con:property><con:property key="_CHARTGROUP_timeSpan">68166</con:property><con:property key="_CHARTGROUP_position">0</con:property><con:property key="expand">none</con:property></con:attributes></con:chartGroup></con:page></con:statistics></con:loadui-project>